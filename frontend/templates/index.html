<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Input - Simplified TTB Application Form</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <h1>Bottle Sure Verify</h1>
            <p class="subtitle">AI-Powered Alcohol Beverage Label Compliance Checker</p>
            <p class="description">Verify that your alcohol label matches the information submitted in the TTB application form</p>
        </header>

        <!-- Main Content Area -->
        <div class="main-wrapper">
            <!-- Form Section -->
            <section class="form-section">
                <div class="section-header">
                    <h2>Product Application Form</h2>
                    <p>Enter the information from your TTB application</p>
                </div>

                <form id="labelVerificationForm" enctype="multipart/form-data">
                    
                    <!-- Brand Name Field -->
                    <div class="form-group">
                        <label for="brandName">
                            Brand Name 
                            <span class="required" title="Required field">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="brandName" 
                            name="brandName" 
                            class="form-control"
                            placeholder="like Old Tom Distillery"
                            required
                            minlength="4"
                            autocomplete="off"
                        >
                        <small class="help-text">The brand name under which the product is sold (minimum 4 characters)</small>
                    </div>

                    <!-- Product Class/Type Field -->
                    <div class="form-group">
                        <label for="productType">
                            Product Class/Type 
                            <span class="required" title="Required field">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="productType" 
                            name="productType" 
                            class="form-control"
                            placeholder="like Kentucky Straight Bourbon Whiskey, Vodka, India Pale Ale"
                            required
                            minlength="5"
                            autocomplete="off"
                        >
                        <small class="help-text">Class or type designation (like Bourbon Whiskey, Vodka, India Pale Ale) (minimum 5 characters)</small>
                    </div>

                    <!-- Alcohol Content Field -->
                    <div class="form-group">
                        <label for="alcoholContent">
                            Alcohol Content (ABV %) 
                            <span class="required" title="Required field">*</span>
                        </label>
                        <div class="input-with-unit">
                            <input 
                                type="number" 
                                id="alcoholContent" 
                                name="alcoholContent" 
                                class="form-control"
                                placeholder="like 45"
                                step="0.1"
                                min="0"
                                max="100"
                                required
                            >
                            <span class="input-unit">%</span>
                        </div>
                        <small class="help-text">Alcohol by volume percentage (0-100)</small>
                    </div>

                    <!-- Net Contents Field (Optional) -->
                    <div class="form-group">
                        <label for="netContents">
                            Net Contents 
                            <span class="optional">(Optional)</span>
                        </label>
                        <input 
                            type="text" 
                            id="netContents" 
                            name="netContents" 
                            class="form-control"
                            placeholder="like 750 mL, 12 fl oz, 1 L"
                            autocomplete="off"
                        >
                        <small class="help-text">Volume of the product (like 750 mL, 12 fl oz, 1 L)</small>
                    </div>

                    <!-- Image Upload Field -->
                    <div class="form-group">
                        <label for="labelImage">
                            Label Image 
                            <span class="required" title="Required field">*</span>
                        </label>
                        
                        <!-- File Input (Hidden) -->
                        <input 
                            type="file" 
                            id="labelImage" 
                            name="labelImage" 
                            accept="image/jpeg,image/jpg,image/png"
                            required
                            hidden
                        >
                        
                        <!-- Custom File Upload Button -->
                        <div class="file-upload-area" id="fileUploadArea">
                            <div class="upload-icon">üì§</div>
                            <div class="upload-text">
                                <span class="upload-title" id="uploadTitle">Click the Label Image text to upload label image</span>
                                <span class="upload-subtitle">or drag and drop</span>
                            </div>
                            <div class="upload-formats">Supports: JPEG, PNG (Max 16MB)</div>
                        </div>

                        <small class="help-text">Upload a clear photograph or image of the alcohol beverage label</small>
                    </div>

                    <!-- Image Preview Section -->
                    <div id="imagePreviewSection" class="image-preview-section hidden">
                        <div class="preview-header">
                            <h3>üì∑ Label Preview</h3>
                            <button type="button" class="btn-remove" id="removeImageBtn" title="Remove image">
                                ‚úï Remove
                            </button>
                        </div>
                        <div class="preview-container">
                            <img id="previewImage" src="" alt="Label preview">
                        </div>
                        <div class="preview-info" id="previewInfo"></div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn-primary" id="submitButton">
                        <span class="btn-icon">üîç</span>
                        <span class="btn-text">Verify Label</span>
                    </button>

                    <!-- Loading Indicator -->
                    <div id="loadingIndicator" class="loading-indicator hidden">
                        <div class="spinner"></div>
                        <p>Processing image and verifying label data...</p>
                    </div>
                </form>
            </section>

            <!-- Results Section (Initially Hidden) -->
            <section id="resultsSection" class="results-section hidden">
                <div class="section-header">
                    <h2>üìä Verification Results</h2>
                </div>
                <div id="resultsContent"></div>
                
                <div class="results-actions">
                    <button type="button" class="btn-primary" onclick="editForm()">
                        <span class="btn-icon">‚úé</span>
                        <span class="btn-text">Edit Form or Try New Image</span>
                    </button>
                    <button type="button" class="btn-secondary" onclick="resetForm()">
                        <span class="btn-icon">üîÑ</span>
                        <span class="btn-text">Verify Another Label</span>
                    </button>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Refer to TTB guidelines, visit <a href="https://www.ttb.gov/media/66695/download?inline#:~:text=Mandatory%20Information%20that%20Must%20Appear,63" target="_blank" rel="noopener">ttb.gov</a></p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
